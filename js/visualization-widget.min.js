(function(){var t,e,n,i,o,a,r;r="http://tech.dev/wp-admin/admin-ajax.php?callback=?",e=function(){function e(e,n,a){var r,s,c=this;this.container=e,this.isWidget=null!=a?a:!1,i=n,this.contents=t(".tv-map",this.container),r=t("img",this.container),s=r.width()/r.data("originalWidth"),this.contents.each(function(){return d(this,s)}),this.container.on("click",".tv-map",l),window.showContentModal=this.showContentModal,window.onhashchange=function(t){return o(c,t)},o(this)}var n,i,o,a,r,s,c,u,d,l,h;return i=null,n="px",e.modal=null,e.modalBg=null,a=function(){return window.location.hash=""},d=function(e,i){var o,a;return o=t(e).data(),a={left:o.x1*i+n,top:o.y1*i+n,height:o.height*i+n,width:o.width*i+n},t(e).css(a)},u=function(t){var e,n,i;return i=window.location.hash,e="technology-"+t,window.location.hash=e,n=RegExp("^#?"+e+"$"),!i.match(n)},r=function(){var t=this;return null!=this.modal?this.modal.fadeOut(function(){return t.modal.add(t.modalBg).hide().empty()}):void 0},c=function(e){var n,i,o;return n=t(document).scrollTop(),o=t(e).offset().top,i=o+t(e).height(),o>n||n>i?t(document).scrollTop(o):void 0},h=function(e,i){var o;if(e)return this.modal||(this.modal=t("<div/>",{id:"tv-modal"}).hide(),this.modalBg=t("<div/>",{id:"tv-modal-bg"}).on("click",a),t("body").append(this.modal).append(this.modalBg)),"function"==typeof i&&i(),o=t(document).scrollTop()+20+n,this.modal.html(e).css("top",o),this.modal.add(this.modalBg).fadeIn()},s=function(e,n){var o;return o={action:"get_visualization_content",contentId:e},this.isWidget?t.getJSON(i,o):t.post(i,o,function(t){return h(t,n)})},o=function(e,n){var i,o,a,u,d;return o=window.location.hash,o&&"#"!==o?(a=o.match(/#technology\-(.*)$/),d=null!=a?a[1]:void 0,d&&(u=t(e.contents).filter("[data-slug="+d+"]"))?(n||(i=c(e.container)),s(u.data("id"),i)):void 0):r()},l=function(e){var n;return e.preventDefault(),n=t(this).data("slug"),n?u(n):void 0},e}(),window.tech_visualization=function(t){var i,o,a,s,c,u;for(i=n,u=t.css,s=0,c=u.length;c>s;s++)a=u[s],o=i("<link>",{rel:"stylesheet",href:a}),o.appendTo("head");return container.html(t.html),i(".tv-visualization").each(function(){return new e(i(this),r,!0)})},i=function(){return n(function(t){var e,n;return e=t("#envisioning-technology-visualization"),n={action:"get_visualization",visualizationId:e.data("visualizationId")},t.getJSON(r,n)})},a=function(){var t,e;return e=window.jQuery.noConflict(!0),t=e,i()},window.jQuery===void 0?(o=document.createElement("script"),o.setAttribute("src","//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"),o.readyState?o.onreadystatechange=function(){return"complete"===this.readyState||"loaded"===this.readyState?a():void 0}:o.onload=a,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)):(n=window.jQuery,t=n,i())}).call(this);