(function(){function l(){a=e=window.jQuery.noConflict(!0);m()}function m(){e(document).ready(function(a){j=a("#envisioning-technology-visualization");var f={action:"get_visualization",visualizationId:j.data("visualizationId")};a.getJSON(n,f)})}var e,a,n="http://tech.dev/wp-admin/admin-ajax.php?callback=?",j,d,g;if("undefined"==typeof window.jQuery){var b=document.createElement("script");b.setAttribute("src","//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js");b.readyState?b.onreadystatechange=
function(){("complete"==this.readyState||"loaded"==this.readyState)&&l()}:b.onload=l;(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(b)}else a=e=window.jQuery,m();var p=function(h){var f=a("img",h),k=a(f).width(),f=a(f).data("originalWidth"),b=k/f,k=a(".tv-map",h),e=function(){d.fadeOut(function(){d.hide().empty();g.hide().empty()})};window.showContentModal=function(c){c&&(d||(d=a("<div/>",{id:"tv-modal"}).hide(),g=a("<div/>",{id:"tv-modal-bg"}).on("click",e),a("body").append(d).append(g)),
d.html(c),d.fadeIn(),g.fadeIn())};a(k).each(function(){var c=a(this).data(),c={left:c.x1*b+"px",top:c.y1*b+"px",height:c.height*b+"px",width:c.width*b+"px"};a(this).css(c)});a(h).on("click",".tv-map",function(c){c.preventDefault();c={action:"get_visualization_content",contentId:a(this).data().id};a.getJSON(n,c)})};window.tech_visualization=function(a){for(var b=e,d=a.css.length-1;0<=d;d--)b("<link>",{rel:"stylesheet",href:a.css[d]}).appendTo("head");j.html(a.html);b(".tv-visualization").each(function(){new p(b(this))})}})();