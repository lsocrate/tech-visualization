jQuery(function(a){var l=TVAjax.ajaxurl,g=[],c,d,k=function(h){var e=a("img",h),j=a(e).width(),e=a(e).data("originalWidth"),f=j/e,j=a(".tv-map",h),g=function(){c.fadeOut(function(){c.hide().empty();d.hide().empty()})},k=function(b){b&&(c||(c=a("<div/>",{id:"tv-modal"}).hide(),d=a("<div/>",{id:"tv-modal-bg"}).on("click",g),a("body").append(c).append(d)),c.html(b),c.fadeIn(),d.fadeIn())};a(j).each(function(){var b=a(this).data(),b={left:b.x1*f+"px",top:b.y1*f+"px",height:b.height*f+"px",width:b.width*
f+"px"};a(this).css(b)});a(h).on("click",".tv-map",function(b){b.preventDefault();b={action:"get_visualization_content",contentId:a(this).data().id};a.post(l,b,k)})};a(".tv-visualization").each(function(){g.push(new k(a(this)))})});